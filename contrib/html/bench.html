<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<title>netsniff-ng - performance numbers</title>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="Robots" content="noarchive">

<link rel="Shortcut Icon" href="http://netsniff-ng.org/img/tiny-logo.png" type="image/png">

<script type="text/javascript">
  function InsertMail(mailnam,mailsvr,maildom)
  {
    document.write('&lt;<a href="mailto:' + mailnam + '@' + mailsvr + '.'
      + maildom + '">' + mailnam + '@' + mailsvr + '.' + maildom + 
      '<\/a>&gt;');
  }
</script>
</head>

<body>
<blockquote>

<br>
<p>
<table border="0">
<tr>
<td>
<a href="http://netsniff-ng.org"><img src="http://netsniff-ng.org/img/logo.png" border="0" alt="netsniff-ng"></a>
</td>
<td>
<br><br><br>
<div style="font-size: 25pt"><b>netsniff-ng</b></div>
<b>the packet sniffing beast</b>
</td>
</tr>
</table>
</p>
<br>

<h2>Performance Numbers</h2>

<p>
This site will provide some figures about the performance of the RX_RING/TX_RING.
</p>

<p>
<b>Hardware 1:</b>
An IBM HS21 Blade with 2 x Intel Xeon E5430 (2.66GHz), 8 GB RAM, Broadcom NetXtreme BCM5704S Gigabit Ethernet cards and a 2.6.31-14 kernel
 (Ubuntu Server 9.10) has been used for testing purpose. The IXIA 400 has been used on the opposite side for traffic generation (Gigabit wire speed). Date: 17 Sep 2010.
</p>

<div>
<h3><a name="t0">RX_RING vs. PF_RING vs. recvfrom(2), 1GbE<sup>1</sup></a></h3>
<blockquote>
<p>
The study included the reception of frames into the ring buffer, a counter increment per frame and the summation of the frame length. The PF_RING has been used without DNA (Direct NIC Access), SVN rev4359 (9 Sep 2010). Figures have been rounded to thousands.
</p>
<p>
<b>64-Byte fixed</b>
<table border="1">
<tr><th>Pkt rate (IXIA)</th><th>% of BW</th><th>RX_RING pps</th><th>PF_RING pps</th><th>recvfrom(2) pps</th></tr>
<tr><td align="right">100,000</td><td align="right">6.75</td><td align="right">100,000</td><td align="right">100,000</td><td align="right">100,000</td></tr>
<tr><td align="right">175,000</td><td align="right">11.76</td><td align="right">175,000</td><td align="right">148,000</td><td align="right">175,000</td></tr>
<tr><td align="right">250,000</td><td align="right">16.80</td><td align="right">250,000</td><td align="right">252,000</td><td align="right">193,000</td></tr>
<tr><td align="right">500,000</td><td align="right">33.60</td><td align="right">338,000</td><td align="right">274,000</td><td align="right">193,000</td></tr>
<tr><td align="right">1,000,000</td><td align="right">67.20</td><td align="right">354,000</td><td align="right">279,000</td><td align="right">193,000</td></tr>
<tr><td align="right">1,488,000</td><td align="right">100.00</td><td align="right">303,000</td><td align="right">286,000</td><td align="right">192,000</td></tr>
</table>
</p>
<p>
<b>250-Byte fixed</b><br>
<table border="1">
<tr><th>Pkt rate (IXIA)</th><th>% of BW</th><th>RX_RING pps</th><th>PF_RING pps</th><th>recvfrom(2) pps</th></tr>
<tr><td align="right">100,000</td><td align="right">21.60</td><td align="right">100,000</td><td align="right">96,000</td><td align="right">100,000</td></tr>
<tr><td align="right">175,000</td><td align="right">37.80</td><td align="right">175,000</td><td align="right">169,000</td><td align="right">175,000</td></tr>
<tr><td align="right">250,000</td><td align="right">54.00</td><td align="right">244,000</td><td align="right">237,000</td><td align="right">193,000</td></tr>
<tr><td align="right">463,000</td><td align="right">100.00</td><td align="right">381,000</td><td align="right">316,000</td><td align="right">190,000</td></tr>
</table>
</p>
<p>
<b>500-Byte fixed</b>
<table border="1">
<tr><th>Pkt rate (IXIA)</th><th>% of BW</th><th>RX_RING pps</th><th>PF_RING pps</th><th>recvfrom(2) pps</th></tr>
<tr><td align="right">100,000</td><td align="right">41.60</td><td align="right">100,000</td><td align="right">93,000</td><td align="right">100,000</td></tr>
<tr><td align="right">175,000</td><td align="right">72.80</td><td align="right">169,000</td><td align="right">174,000</td><td align="right">116,000</td></tr>
<tr><td align="right">240,000</td><td align="right">100.00</td><td align="right">226,000</td><td align="right">240,000</td><td align="right">116,000</td></tr>
</table>
</p>
<p>
<b>1,500-Byte fixed</b>
<table border="1">
<tr><th>Pkt rate (IXIA)</th><th>% of BW</th><th>RX_RING pps</th><th>PF_RING pps</th><th>recvfrom(2) pps</th></tr>
<tr><td align="right">82,000</td><td align="right">100.00</td><td align="right">82,000</td><td align="right">82,000</td><td align="right">82,000</td></tr>
</table>
</p>
<p>
<b>IMIX distribution (64:7, 570:4, 1518:1)</b>
<table border="1">
<tr><th>Pkt rate (IXIA)</th><th>% of BW</th><th>RX_RING pps</th><th>PF_RING pps</th></tr>
<tr><td align="right">100,000</td><td align="right">29.99</td><td align="right">100,000</td><td align="right">100,000</td></tr>
<tr><td align="right">175,000</td><td align="right">52.35</td><td align="right">175,000</td><td align="right">167,000</td></tr>
<tr><td align="right">250,000</td><td align="right">74.80</td><td align="right">240,000</td><td align="right">245,000</td></tr>
<tr><td align="right">334,000</td><td align="right">100.00</td><td align="right">303,000</td><td align="right">293,000</td></tr>
</table>
</p>
<p>
<b>Tolly distribution (64:55, 78:5, 576:17, 1518:23)</b>
<table border="1">
<tr><th>Pkt rate (IXIA)</th><th>% of BW</th><th>RX_RING pps</th><th>PF_RING pps</th></tr>
<tr><td align="right">100,000</td><td align="right">40.50</td><td align="right">100,000</td><td align="right">100,000</td></tr>
<tr><td align="right">175,000</td><td align="right">70.90</td><td align="right">174,000</td><td align="right">175,000</td></tr>
<tr><td align="right">247,000</td><td align="right">100.00</td><td align="right">193,000</td><td align="right">237,000</td></tr>
</table>
</p>
</blockquote>
</div>

<div>
<h3><a name="t1">TX_RING, 1GbE<sup>1</sup></a></h3>
<blockquote>
<p>
The test was about flushing as much frames as possible of a fixed size. The IXIA was the counterpart that showed the incoming figures. 
Figures have been rounded to thousands.
<table border="1">
<tr><th>Pkt size</th><th>TX_RING pps</th></tr>
<tr><td align="right">64</td><td align="right">422,000</td></tr>
<tr><td align="right">128</td><td align="right">422,000</td></tr>
<tr><td align="right">250</td><td align="right">402,000</td></tr>
<tr><td align="right">500</td><td align="right">239,000</td></tr>
<tr><td align="right">750</td><td align="right">162,000</td></tr>
<tr><td align="right">1,000</td><td align="right">122,000</td></tr>
<tr><td align="right">1,500</td><td align="right">82,000</td></tr>
</table>
</p>
</blockquote>
</div>

<br>

<a href="http://www.vim.org/"><img src="http://netsniff-ng.org/img/vim.png" border="0" alt="powered by vim"></a>&nbsp;
<a href="http://www.anybrowser.org/campaign/"><img src="http://netsniff-ng.org/img/vt100.gif" border="0" alt="best viewed with vt100"></a>&nbsp;
<a href="http://eupat.ffii.org/"><img src="http://netsniff-ng.org/img/no_epatent.png" border="0" alt="no epatents"></a>

<p>
<hr>
</p>

<table border="0" width="90%">
<tr>
  <td>
    <address>Copyright (C) 2009-2011 <a href="http://gnumaniacs.org">Daniel Borkmann</a> 
    <script type="text/javascript">InsertMail("daniel", "netsniff-ng", "org");</script> 
    and
    <a href="http://emmanuel.netsniff-ng.org">Emmanuel Roullit</a> 
    <script type="text/javascript">InsertMail("emmanuel", "netsniff-ng", "org");</script>
    </address>
  </td>
</tr>
</table>

</blockquote>
</body>

</html>

